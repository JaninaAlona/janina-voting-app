{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  id: \"subbtn\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_WhoIs = _resolveComponent(\"WhoIs\");\n\n  const _component_LangSelect = _resolveComponent(\"LangSelect\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [$data.showIndex ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h1\", null, _toDisplayString($data.title), 1\n  /* TEXT */\n  ), _createVNode(_component_WhoIs, {\n    onNameChanged: $options.nameChanged\n  }, null, 8\n  /* PROPS */\n  , [\"onNameChanged\"]), _createVNode(_component_LangSelect, {\n    onProgrLangChanged: $options.progrLangChanged\n  }, null, 8\n  /* PROPS */\n  , [\"onProgrLangChanged\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.sendVote && $options.sendVote(...args)),\n    id: \"vote\"\n  }, \"Vote\")])])) : _createCommentVNode(\"v-if\", true), $data.showResults ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"h1\", null, \"User \" + _toDisplayString($data.username) + \" voted \" + _toDisplayString($data.progrLang), 1\n  /* TEXT */\n  ), _createElementVNode(\"h2\", null, \"There were \" + _toDisplayString($data.votes) + \" on \" + _toDisplayString($data.progrLang) + \" of all \" + _toDisplayString($data.totalVotes) + \" votes\", 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;AAMSA,IAAE,EAAC;;;;;;;;;;6DALCC,iCAAXC,oBAQM,KARN,EAQMC,UARN,EAQM,CAPJC,oBAAoB,IAApB,EAAoB,IAApB,EAAoBC,iBAAbJ,WAAa,CAApB,EAAY;AAAA;AAAZ,GAOI,EANJK,aAAoCC,gBAApC,EAAoC;AAA5BC,iBAAW,EAAEC;AAAe,GAApC,EAAgC,IAAhC,EAAgC;AAAA;AAAhC,IAAgC,iBAAhC,CAMI,EALJH,aAAmDI,qBAAnD,EAAmD;AAAtCC,sBAAgB,EAAEF;AAAoB,GAAnD,EAA+C,IAA/C,EAA+C;AAAA;AAA/C,IAA+C,sBAA/C,CAKI,EAHJL,oBAEM,KAFN,cAEM,CADFA,oBAAkD,QAAlD,EAAkD;AAAzCQ,WAAK,yCAAGH,+CAAH,CAAoC;AAAvBT,MAAE,EAAC;AAAoB,GAAlD,EAAqC,MAArC,CACE,CAFN,CAGI,CARN,wCASWC,mCAAXC,oBAGM,KAHN,EAGMW,UAHN,EAGM,CAFJT,oBAAkD,IAAlD,EAAkD,IAAlD,EAAI,UAAKC,iBAAGJ,cAAH,CAAL,GAAmB,SAAnB,GAA0BI,iBAAGJ,eAAH,CAA9B,EAA0C;AAAA;AAA1C,GAEI,EADJG,oBAAgF,IAAhF,EAAgF,IAAhF,EAAI,gBAAWC,iBAAGJ,WAAH,CAAX,GAAsB,MAAtB,GAA0BI,iBAAGJ,eAAH,CAA1B,GAAyC,UAAzC,GAAiDI,iBAAGJ,gBAAH,CAAjD,GAAiE,QAArE,EAA2E;AAAA;AAA3E,GACI,CAHN","names":["id","$data","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_createVNode","_component_WhoIs","onNameChanged","$options","_component_LangSelect","onProgrLangChanged","onClick","_hoisted_3"],"sourceRoot":"","sources":["/Users/janinaschroeder/Desktop/janina/my_fav_progr_lang_project_23032022/progrlang-vote-app/frontend-ui/src/App.vue"],"sourcesContent":["<template>\n  <div v-if=\"showIndex\">\n    <h1>{{ title }}</h1>\n    <WhoIs @nameChanged=\"nameChanged\" />\n    <LangSelect @progrLangChanged=\"progrLangChanged\" />\n\n    <div id=\"subbtn\">\n        <button @click =\"sendVote\" id=\"vote\">Vote</button>\n    </div>\n  </div>\n  <div v-if=\"showResults\">\n    <h1>User {{ username }} voted {{ progrLang }}</h1>\n    <h2>There were {{ votes }} on {{ progrLang }} of all {{ totalVotes }} votes</h2>\n  </div>\n</template>\n\n\n<script>\nimport WhoIs from './components/WhoIs.vue'\nimport LangSelect from './components/LangSelect.vue'\n\n\nexport default {\n  name: 'App',\n  components: { WhoIs, LangSelect },\n  data() {\n    return {\n      title: \"What is your favourite programming language?\",\n      username: \"\",\n      progrLang: \"\",\n      votes: 0,\n      totalVotes: 0,\n      showIndex: true,\n      showResults: false\n    }\n  },\n  methods: {\n    nameChanged(name) {\n      this.username = name;\n    },\n\n    progrLangChanged(lang) {\n      this.progrLang = lang;\n    },\n\n    toggleResultsVisible() {\n      this.showIndex = false;\n      this.showResults = true;\n    },\n\n    sendVote() {\n\n      // Creating a XHR object\n      let xhr = new XMLHttpRequest();\n\n      //Django server path\n      let url = \"http://127.0.0.1:8000/api/\";\n  \n      // open a connection\n      xhr.open(\"POST\", url, true);\n\n      // Set the request header i.e. which type of content you are sending\n      xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n      // Create a state change callback\n      xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4 && xhr.status === 200) {\n            const json_response = xhr.responseText;\n            const responseObj = JSON.parse(json_response);\n            this.username = responseObj.username;\n            this.progrLang = responseObj.progrLang;\n            this.votes = responseObj.votes;\n            this.totalVotes = responseObj.totalVotes;\n            this.toggleResultsVisible();\n          }\n      };\n\n      // Converting JSON data to string\n      var data = JSON.stringify({ \"username\": this.username, \"progrLang\": this.progrLang });\n\n      // Sending data with the request\n      xhr.send(data);\n    }\n  } \n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n#subbtn {\n    margin-top: 100px;\n}\n\n#vote {\n    background:#faa23e;\n    width: 80px;\n    height: 60px;\n    border-radius: 15px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}